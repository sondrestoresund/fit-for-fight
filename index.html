<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fit For Fight</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Roboto+Condensed:wght@600;700&display=swap" rel="stylesheet">
<link rel="icon" href="https://i.imgur.com/wtiJqW5.png">
<script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<style>
  :root{--bg:#0b1620;--bg2:#101922;--card:#161b23;--ink:#e7ecf4;--muted:#95a1b1;--grid:rgba(231,236,244,.08);--accent:#2db9a2;--chip:rgba(255,255,255,.06);--ring:rgba(45,185,162,.35);--prospect:#6fc2d0;--std:#79c389;--strong:#f3c355;--elite:#6aa9ff;--max:#ff6aa9}
  *{box-sizing:border-box}html,body{height:100%}
  body{margin:0;color:var(--ink);font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:radial-gradient(1200px 700px at 75% -10%, rgba(45,185,162,.10), transparent 50%),linear-gradient(180deg, var(--bg2), var(--bg)),repeating-linear-gradient(135deg, rgba(255,255,255,.015) 0 2px, transparent 2px 6px)}
  a{color:#2db9a2;text-decoration:none}
  header.appbar{position:sticky;top:0;z-index:20;background:rgba(13,22,32,.9);backdrop-filter:blur(6px);border-bottom:1px solid var(--grid)}
  .appbar-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;gap:10px;padding:10px 16px}
  .brand{display:flex;align-items:center;gap:10px}.brand .mark{width:120px;height:120px;border-radius:10px;object-fit:contain;background:none}
  .tabs{display:flex;gap:8px;margin-left:16px;flex:1;overflow:auto}
  .chip{padding:8px 12px;border:1px solid var(--grid);border-radius:999px;background:var(--chip);font-weight:700;font-size:13px;white-space:nowrap;cursor:pointer}
  .chip.active{border-color:var(--accent);box-shadow:0 0 0 3px var(--ring)}
  .profile{margin-left:auto;position:relative}
  .profile-btn{display:flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--grid);border-radius:10px;background:#0f1620;cursor:pointer;color:#2bd9b8}
  .profile-dd{display:none;position:absolute;right:0;top:48px;background:var(--card);border:1px solid var(--grid);border-radius:12px;padding:12px;width:320px;z-index:30}
  .profile-dd.show{display:block}
  .profile-dd .row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
  .profile-dd label{font-size:12px;color:var(--muted)}
  .profile-dd input,.profile-dd select{width:100%;padding:8px 10px;border-radius:10px;border:1px solid var(--grid);background:#0f1620;color:var(--ink)}
  .profile-dd .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
  .btn{padding:10px 14px;border:none;border-radius:10px;background:linear-gradient(135deg,var(--accent),#35e0c2);color:#0b1311;font-weight:800;cursor:pointer}
  .btn.secondary{background:#0f1620;color:var(--ink);border:1px solid var(--grid)}
  .container{max-width:1200px;margin:18px auto;padding:0 16px}
  .panel{background:var(--card);border:1px solid var(--grid);border-radius:14px;padding:16px;box-shadow:0 8px 30px rgba(0,0,0,.25)}
  .panel:hover{transform:translateY(-1px);transition:transform .18s ease, box-shadow .18s ease}
  .panel h2{margin:0 0 12px;font:700 18px "Roboto Condensed";letter-spacing:.4px;text-transform:uppercase;position:relative}
  .panel h2:after{content:"";position:absolute;left:0;bottom:-6px;width:100%;height:2px;background:repeating-linear-gradient(90deg,rgba(231,236,244,.15) 0 24px, transparent 24px 36px)}
  .grid{display:grid;gap:12px}.grid-2{grid-template-columns:1fr 1fr}.grid-3{grid-template-columns:1fr 1fr 1fr}
  @media (max-width:900px){.grid-2,.grid-3{grid-template-columns:1fr}}
  .login-wrap{display:grid;grid-template-columns:380px 1fr;gap:16px}@media (max-width:1000px){.login-wrap{grid-template-columns:1fr}}
  .hero{border-radius:14px;min-height:300px;background-size:cover;background-position:center;border:1px solid var(--grid);position:relative;overflow:hidden}
  .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.55))}
  .hero-content{position:absolute;inset:0;padding:16px;display:flex;flex-direction:column;justify-content:flex-end}
  .hero h1{margin:0;font:800 28px/1.1 Inter}
  .muted{color:var(--muted);font-size:14px}
  /* Global selects: darker, rounded, with custom caret */
  select{
    width:100%;
    padding:10px 36px 10px 12px;
    border-radius:10px;
    border:1px solid var(--grid);
    background:#0f1620;
    color:var(--ink);
    appearance:none;-webkit-appearance:none;-moz-appearance:none;
    background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 6"><path fill="%23A9BAC4" d="M4 6L0 0h8z"/></svg>');
    background-repeat:no-repeat;background-size:8px 6px;background-position:right 12px center;
    box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);
    line-height:1.2;min-height:36px;margin-top:2px;
    transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
  }
  select:hover{border-color:color-mix(in srgb,var(--accent) 35%, var(--grid))}
  select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px var(--ring)}
  /* ===== Medal Chip Component ===== */
  :root{
    --bg-chip:#0B1117;--bg-chip-hover:#0E141C;--text-strong:#E6F1F5;--text-subtle:#A9BAC4;--border-dim:rgba(255,255,255,.12);
    --track:rgba(255,255,255,.08);--fill:#19D3B6;
    --bronze-1:#8a5a2b;--bronze-2:#d6a675;--bronze-glow:#cd7f32;
    --silver-1:#8a8f98;--silver-2:#e5e8ee;--silver-glow:#c0c0c0;
    --gold-1:#a37b17;--gold-2:#ffe27b;--gold-glow:#ffd700;
  }
  .medal-row{display:flex;flex-wrap:wrap;gap:10px}
  .medal-chip{--metal-1:var(--silver-1);--metal-2:var(--silver-2);--metal-glow:var(--silver-glow);position:relative;display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;color:var(--text-strong);background:var(--bg-chip);border:1px solid var(--border-dim);box-shadow:inset 0 0 0 1px rgba(255,255,255,.02);transition:transform .12s ease,background .12s ease,box-shadow .2s ease,border-color .2s ease;cursor:default}
  .medal-chip:hover{background:var(--bg-chip-hover)}
  .medal-chip:active{transform:translateY(1px)}
  .medal-chip::before{content:"";position:absolute;inset:-1px;border-radius:inherit;padding:1px;background:linear-gradient(135deg,var(--metal-1),var(--metal-2));-webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:.65;pointer-events:none}
  .medal-chip.none{opacity:.6;filter:saturate(.7)}.medal-chip.none::before{opacity:.15}
  .medal-chip.bronze{--metal-1:var(--bronze-1);--metal-2:var(--bronze-2);--metal-glow:var(--bronze-glow)}
  .medal-chip.silver{--metal-1:var(--silver-1);--metal-2:var(--silver-2);--metal-glow:var(--silver-glow)}
  .medal-chip.gold{--metal-1:var(--gold-1);--metal-2:var(--gold-2);--metal-glow:var(--gold-glow)}
  .medal-ico{width:16px;height:16px;flex:0 0 16px;display:block;filter:drop-shadow(0 0 6px color-mix(in srgb, var(--metal-glow) 40%, transparent))}
  .level-tag{font-weight:650;letter-spacing:.2px}
  .dot{opacity:.5}
  .medal-name{color:var(--text-subtle);text-transform:uppercase;font-weight:700;font-size:12px;letter-spacing:.4px}
  .frac{font-variant-numeric:tabular-nums;color:var(--text-subtle)}
  .mini{position:relative;height:6px;width:72px;border-radius:999px;overflow:hidden;background:var(--track);margin-left:6px;border:1px solid var(--border-dim)}
  .mini>i{position:absolute;inset:0;display:block;background:linear-gradient(90deg,var(--fill),color-mix(in srgb,var(--fill) 50%,transparent));width:0%;transition:width .4s cubic-bezier(.2,.8,.2,1)}
  /* Per-level accent colors for the mini bar */
  .medal-chip.lv-prospect .mini>i{background:linear-gradient(90deg,var(--prospect),color-mix(in srgb,var(--prospect) 50%,transparent))}
  .medal-chip.lv-standard .mini>i{background:linear-gradient(90deg,var(--std),color-mix(in srgb,var(--std) 50%,transparent))}
  .medal-chip.lv-strong .mini>i{background:linear-gradient(90deg,var(--strong),color-mix(in srgb,var(--strong) 50%,transparent))}
  .medal-chip.lv-elite .mini>i{background:linear-gradient(90deg,var(--elite),color-mix(in srgb,var(--elite) 50%,transparent))}
  .medal-chip.lv-max .mini>i{background:linear-gradient(90deg,var(--max),color-mix(in srgb,var(--max) 50%,transparent))}
  .medal-chip.earned::after{content:"";position:absolute;inset:-2px;border-radius:inherit;background:radial-gradient(120px 40px at var(--sx,10%) -20%, rgba(255,255,255,.28), transparent 60%),radial-gradient(80px 30px at var(--sx,30%) -15%, rgba(255,255,255,.18), transparent 60%);pointer-events:none;animation:sweep 1.2s ease-out both}
  @keyframes sweep{from{--sx:-20%;opacity:.0}40%{--sx:50%;opacity:.9}to{--sx:120%;opacity:0}}
  @media (max-width:700px){.mini{display:none}}
  #view-about .muted{color:#dfe7f1}
  /* About visuals */
  .about-hero{position:relative;border-radius:14px;min-height:260px;background-size:cover;background-position:center;border:1px solid var(--grid);overflow:hidden;margin-bottom:12px;background-color:#0f1620}
  .about-hero::after{content:"";position:absolute;inset:0;background:radial-gradient(100% 100% at 50% 0%, rgba(0,0,0,.25), rgba(0,0,0,.55));pointer-events:none}
  .about-hero-content{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;padding:16px;text-align:center;z-index:1}
  .about-row{display:grid;grid-template-columns:1.5fr 1fr;gap:12px;margin:12px 0;align-items:center}
  @media (max-width:900px){.about-row{grid-template-columns:1fr}}
  .side-img{position:relative;border-radius:12px;height:260px;background-size:cover;background-position:center;border:1px solid var(--grid);overflow:hidden}
  .side-img::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,.28);pointer-events:none}
  .accent-bg{position:relative;background-size:cover;background-position:right center;background-repeat:no-repeat;border:1px solid var(--grid);background-color:#0f1620}
  .accent-bg h3,.accent-bg p,.accent-bg li{position:relative;z-index:1}
  .accent-bg::before{content:"";position:absolute;inset:0;background:linear-gradient(90deg, rgba(16,25,34,.75), rgba(16,25,34,.55) 60%, rgba(16,25,34,0) 100%);border-radius:12px;pointer-events:none}
  .accent-bg:hover{transform:none}
  .grid-5{grid-template-columns:repeat(5,1fr)}
  /* How it works: step titles styled like real pills */
  .about-steps .step-title{
    display:inline-block; padding:6px 12px; border-radius:999px;
    font:700 13px 'Roboto Condensed'; letter-spacing:.3px;
    color:#e7ecf4; box-shadow:0 1px 2px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.08);
    transition:filter .15s ease, box-shadow .15s ease, transform .06s ease;
    position:relative; z-index:2; opacity:1; filter:none; /* keep highlighted at all times */
  }
  .about-steps .step-title:hover{ filter:brightness(.95) }
  .about-steps .step-title:active{ transform:translateY(1px) }
  .about-steps .step-1{ background:var(--prospect) }
  .about-steps .step-2{ background:var(--std) }
  .about-steps .step-3{ background:var(--strong) }
  .about-steps .step-4{ background:var(--elite) }
  .about-steps .step-5{ background:var(--max) }
  .about-cta{position:relative;border-radius:14px;min-height:220px;background-size:cover;background-position:center;border:1px solid var(--grid);overflow:hidden;margin-top:12px;background-color:#0f1620}
  .about-cta::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.6))}
  .about-cta-inner{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px;pointer-events:auto}
  .grid-4{grid-template-columns:repeat(4,1fr)}
  /* Squad hero row */
  .hero-squad{width:100%;height:360px;border-radius:14px;border:1px solid var(--grid);margin:0 0 12px 0;overflow:hidden;
    background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.35)), url('https://i.imgur.com/thQkIO5.jpg') center/cover no-repeat;
    display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;color:#fff;padding:16px}
  .hero-squad h1{margin:0;font:800 32px/1.15 Inter}
  .hero-squad p{margin:8px 0 0;font:400 18px/1.4 Inter;color:#e8eff6}
  @media (max-width:700px){.hero-squad{height:260px}.hero-squad h1{font-size:24px}.hero-squad p{font-size:14px}}
  .badge{font:700 11px "Roboto Condensed";text-transform:uppercase;letter-spacing:.4px;padding:4px 10px;border-radius:6px;background:var(--chip);display:inline-block}
  /* Clickable exercise name link */
  .exercise-link{text-decoration:none;border-bottom:1px dotted transparent;color:#2bd9b8;font-weight:600}
  .exercise-link:hover{border-bottom-color:#2bd9b8}
  .b-prospect{background:rgba(111,194,208,.22);color:var(--ink)}.b-std{background:rgba(121,195,137,.22);color:var(--ink)}.b-strong{background:rgba(243,195,85,.22);color:var(--ink)}.b-elite{background:rgba(106,169,255,.22);color:var(--ink)}.b-max{background:rgba(255,106,169,.22);color:var(--ink)}
  .tag{font-size:11px;padding:2px 8px;border-radius:6px;background:var(--chip)}
  .t-prospect{background:#6fc2d0;color:#052027}.t-std{background:#79c389;color:#06210f}.t-strong{background:#f3c355;color:#3b2900}.t-elite{background:#6aa9ff;color:#001533}.t-max{background:#ff6aa9;color:#3a001a}
  table{width:100%;border-collapse:collapse}th,td{border-bottom:1px solid var(--grid);padding:10px;text-align:left;font-size:14px;vertical-align:top}th{color:var(--muted);font:700 12px "Roboto Condensed";letter-spacing:.3px;text-transform:uppercase}
  td small{color:var(--muted)}.rowbtn{width:auto;padding:8px 10px;border-radius:8px;border:1px solid var(--grid);background:#0e1620;color:var(--ink);cursor:pointer}.rowbtn:hover{border-color:var(--accent)}
  canvas{background:#0f1620;border-radius:12px;border:1px solid var(--grid)}
  .ring{display:flex;gap:12px;align-items:center;background:var(--chip);border:1px solid var(--grid);border-radius:12px;padding:10px;cursor:pointer}
  .ring .dial{--pct:0;--clr:var(--accent);width:64px;height:64px;border-radius:50%;background:conic-gradient(var(--clr) calc(var(--pct)*1%), rgba(255,255,255,.08) 0);position:relative}
  .ring .dial::after{content:"";position:absolute;inset:6px;border-radius:50%;background:#0f1620;border:1px solid var(--grid)}
  .ring .meta{display:flex;flex-direction:column}.ring .big{font:800 20px/1 Inter}.ring .lbl{font:700 12px "Roboto Condensed";text-transform:uppercase;color:var(--muted)}
  .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(2px);align-items:center;justify-content:center;z-index:9999}
  .modal-card{background:var(--card);border:1px solid var(--grid);border-radius:14px;padding:16px;box-shadow:0 12px 40px rgba(0,0,0,.35)}
  .modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
  #levelsToast{display:none;position:fixed;left:16px;bottom:16px;background:#161b23;border:1px solid rgba(231,236,244,.12);border-radius:10px;padding:12px 14px;z-index:9999;box-shadow:0 8px 24px rgba(0,0,0,.35)}
  .view{display:none}.view.show{display:block}
  /* --- Fix login layout --- */
#view-login .panel label{
  display:block;
  margin:12px 0 6px;
  font-weight:600;
}
#view-login .panel input{
  display:block;
  width:100%;
  max-width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--grid);
  background:#0f1620;
  color:var(--ink);
  outline:none;
}
#view-login .grid.grid-2{
  align-items:center;
  gap:10px;
}
#view-login .panel{ max-width:520px }    /* Keeps the form a nice width */
@media (max-width:480px){
  #view-login .grid.grid-2 { grid-template-columns:1fr; }
}
/* ---------- NAV text: Marine green ---------- */
.tabs .chip{
  color:#2bd9b8;             /* brighter green text */
  font-weight:700;
}
.tabs .chip.active{
  border-color:#2bd9b8;
  box-shadow:0 0 0 3px rgba(43,217,184,.30);
}

/* ---------- Level badges: more legible ---------- */
.badge{opacity:1}
.b-prospect{background:rgba(111,194,208,.35);color:var(--ink)}
.b-std{background:rgba(121,195,137,.35);color:var(--ink)}
.b-strong{background:rgba(243,195,85,.40);color:var(--ink)}
.b-elite{background:rgba(106,169,255,.40);color:var(--ink)}
.b-max{background:rgba(255,106,169,.40);color:var(--ink)}

/* clickable legend badges */
.level-badge{cursor:pointer;user-select:none;transition:transform .08s ease}
.level-badge:hover{transform:translateY(-1px);}

/* highlight the user’s current level cell in the table */
/* Deprecated container highlight removed in favor of pill highlight */
.hl{outline:none;box-shadow:none}

/* Pill highlight states (apply to the badge itself) */
/* Keep original level colors; neon accent border around achieved pills */
.badge.achieved{
  transform:translateY(-1px);
  border:1px solid #2bd9b8 !important; /* neon green like nav */
  box-shadow: 0 0 0 3px rgba(43,217,184,.30), 0 4px 16px rgba(43,217,184,.14);
}
.badge.top-achieved{
  box-shadow: 0 0 0 4px rgba(43,217,184,.36), 0 6px 22px rgba(43,217,184,.22);
}

/* ---------- Home: grouped level view ---------- */
  .level-groups{display:grid;gap:12px}
  .level-group{background:var(--card);border:1px solid var(--grid);border-radius:12px;padding:12px}
  .level-group h4{margin:0 0 6px;font:700 13px "Roboto Condensed";text-transform:uppercase;letter-spacing:.3px;color:var(--muted)}
  /* Per-level colors */
  .level-group.lvl-Prospect h4{color:var(--prospect)}
  .level-group.lvl-Standard h4{color:var(--std)}
  .level-group.lvl-Strong h4{color:var(--strong)}
  .level-group.lvl-Elite h4{color:var(--elite)}
  .level-group.lvl-Max h4{color:var(--max)}
  .level-chips{display:flex;flex-wrap:wrap;gap:8px}
  .level-chip{padding:6px 10px;border-radius:999px;background:var(--chip);border:1px solid var(--grid);font-size:13px;color:var(--ink)}
  .level-group.lvl-Prospect .level-chip{background:rgba(111,194,208,.22);border-color:rgba(111,194,208,.45);color:var(--ink)}
  .level-group.lvl-Standard .level-chip{background:rgba(121,195,137,.22);border-color:rgba(121,195,137,.45);color:var(--ink)}
  .level-group.lvl-Strong .level-chip{background:rgba(243,195,85,.22);border-color:rgba(243,195,85,.45);color:var(--ink)}
  .level-group.lvl-Elite .level-chip{background:rgba(106,169,255,.22);border-color:rgba(106,169,255,.45);color:var(--ink)}
  .level-group.lvl-Max .level-chip{background:rgba(255,106,169,.22);border-color:rgba(255,106,169,.45);color:var(--ink)}

  /* Level meter */
  .level-meter{position:relative;height:8px;border-radius:999px;background:rgba(231,236,244,.06);box-shadow:inset 0 0 0 1px var(--grid);overflow:hidden}
  .level-meter .fill{position:absolute;left:0;top:0;bottom:0;width:0;
    background:linear-gradient(90deg,
      var(--prospect) 0%, var(--prospect) 20%,
      var(--std) 20%, var(--std) 40%,
      var(--strong) 40%, var(--strong) 70%,
      var(--elite) 70%, var(--elite) 90%,
      var(--max) 90%, var(--max) 100%
    )}
  .level-meter .tick{position:absolute;top:-3px;width:1px;height:14px;background:rgba(231,236,244,.35)}
  .level-meter .marker{position:absolute;top:-4px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:8px solid #fff;filter:drop-shadow(0 1px 2px rgba(0,0,0,.5))}
  .level-meter .labels{display:flex;justify-content:space-between;font:700 10px 'Roboto Condensed';color:var(--muted);margin-top:4px}

  /* PR timeline chips */
  .chips{display:flex;flex-wrap:wrap;gap:8px}
  .chip-sm{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:var(--chip);border:1px solid var(--grid);font-size:12px}

  /* Avatar bubbles */
  .avatar{display:inline-flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:50%;font:800 12px Inter;box-shadow:0 1px 2px rgba(0,0,0,.35)}

  /* App toast */
  .app-toast{position:fixed;left:16px;bottom:16px;background:#161b23;border:1px solid rgba(231,236,244,.12);border-radius:10px;padding:10px 12px;z-index:99999;opacity:0;transform:translateY(8px);transition:opacity .18s ease, transform .18s ease}
  .app-toast.show{opacity:1;transform:translateY(0)}
  .app-toast .toast-act{margin-left:10px;color:#2bd9b8;cursor:pointer;font-weight:800}

  /* Calendar cells */
  .cal-cell{transition:border-color .15s ease, box-shadow .15s ease}
  .cal-cell.has-logs{border-color:#2bd9b8; box-shadow:0 0 0 2px rgba(43,217,184,.25) inset}

  /* Mobile sticky log */
  @media (max-width:700px){
    #stickyLogBtn{position:fixed;left:12px;right:12px;bottom:12px;z-index:50}
  }

/* ---------- Login layout tidy (if you haven’t added already) ---------- */
#view-login .panel label{display:block;margin:12px 0 6px;font-weight:600}
#view-login .panel input{display:block;width:100%;max-width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--grid);background:#0f1620;color:var(--ink)}
#view-login .panel{max-width:520px}
</style>
</head>
<body>
<header class="appbar">
  <div class="appbar-inner">
    <div class="brand"><img class="mark" src="https://i.imgur.com/wtiJqW5.png" alt="Fit For Fight logo"></div>
    <nav class="tabs" id="navTabs" aria-label="Primary">
      <button class="chip" data-route="#/home">Home</button>
      <button class="chip" data-route="#/benchmarks">Benchmarks</button>
      <button class="chip" data-route="#/progress">Progress</button>
      <button class="chip" data-route="#/fireteam">Squad</button>
      <button class="chip" data-route="#/about">About</button>
    </nav>
    <div class="profile" id="profileMenu" style="display:none">
      <button class="profile-btn" id="profileBtn"><span id="profileSummary">PROFILE: -</span></button>
      <div class="profile-dd" id="profileDropdown">
        <div class="row"><div><label>Name</label><input id="p_name"></div><div><label>Sex</label><select id="p_sex"><option value="male">Male</option><option value="female">Female</option></select></div></div>
        <div class="row"><div><label>Age</label><input id="p_age" type="number" min="17" max="70"></div><div><label>Age Bracket</label>
          <select id="p_ageBracket"><option>17-26</option><option>27-30</option><option selected>31-35</option><option>36-40</option><option>41-45</option><option>46-50</option><option>51-55</option><option>56-60</option><option>61-65</option><option>66-70</option></select>
        </div></div>

        <div class="row"><div><label>Units</label>
          <select id="p_units"><option value="imperial" selected>Imperial (ft/in, lb)</option><option value="metric">Metric (cm, kg)</option></select>
        </div><div></div></div>

        <div class="row" id="blk_metric" style="display:none">
          <div><label>Height (cm)</label><input id="p_height_cm" type="number"></div>
          <div><label>Weight (kg)</label><input id="p_weight_kg" type="number" step="0.1"></div>
        </div>
        <div class="row" id="blk_imperial">
          <div><label>Height (ft/in)</label>
            <div style="display:flex; gap:8px">
              <input id="p_height_ft" type="number" placeholder="ft" style="flex:1">
              <input id="p_height_in" type="number" placeholder="in" style="flex:1">
            </div>
          </div>
          <div><label>Weight (lb)</label><input id="p_weight_lb" type="number" step="0.1"></div>
        </div>

        <div class="row"><div><label>Share PRs with Squad</label>
          <select id="p_share"><option value="yes" selected>Yes</option><option value="no">No</option></select>
        </div><div></div></div>

        <div class="actions"><button class="btn secondary" id="openExercisePicker">Exercise selection</button><button class="btn" id="saveProfile">Save</button><button class="btn secondary" id="signOut">Sign out</button></div>
      </div>
    </div>
  </div>
</header>

<!-- LOGIN + Landing -->
<main class="container view" id="view-login">
  <div class="login-wrap">
    <section class="panel">
      <h2>Sign In Required</h2>
      <p class="muted">Please sign in using the Account box below to access the app.</p>
      <button class="btn" id="goToAccount" style="margin-top:8px">Go to Account</button>
    </section>
    <section class="panel">
      <div class="hero" style="background-image:url('https://images.unsplash.com/photo-1521804906057-1df8fdb718b2?q=80&w=1600&auto=format&fit=crop');">
        <div class="hero-content"><h1>Train like a Marine. Test Day ready.</h1><p class="muted">A sleek, Marine-grade challenge app. Run the gauntlet and see where you stand.</p></div>
      </div>
      <div class="grid grid-3" style="margin-top:12px">
        <div class="panel"><div class="badge b-elite">Challenge First</div><p class="muted" style="margin-top:6px">Guided Test Day flow. No fluff.</p></div>
        <div class="panel"><div class="badge b-strong">Real Benchmarks</div><p class="muted" style="margin-top:6px">USMC-inspired anchors with age scaling.</p></div>
        <div class="panel"><div class="badge b-prospect">Polished UX</div><p class="muted" style="margin-top:6px">Clean design and tooltips that just work.</p></div>
      </div>
    </section>
  </div>
</main>

<!-- FIRETEAM -->
<main class="container view" id="view-fireteam">
  <div class="hero-squad">
    <h1>Your Squad</h1>
    <p>Connect with friends, push each other, and stay accountable.</p>
  </div>
  <section class="panel">
    <h2>Squad</h2>
    <div class="grid grid-3">
      <div class="panel"><h3 style="margin:0">Invite Code</h3><p class="muted" style="margin-top:6px">Share this with friends to connect.</p><div id="inviteCode" class="badge">-</div><div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap"><button class="rowbtn" id="copyInvite">Copy</button><button class="rowbtn" id="copyInviteLink">Copy Link</button><button class="rowbtn" id="copyInviteAutoLink">Copy Auto Link</button><button class="rowbtn" id="shareInvite">Share</button></div><div id="inviteCopyMsg" class="muted" style="margin-top:6px"></div></div>
      <div class="panel"><h3 style="margin:0">Add Friend</h3><div style="display:flex;gap:8px;margin-top:6px"><input id="friendCode" placeholder="Enter code"><button class="btn" id="addFriend">Connect</button></div><div id="friendMsg" class="muted" style="margin-top:6px"></div></div>
      <div class="panel"><h3 style="margin:0">Invite by Email</h3><div style="display:flex;gap:8px;margin-top:6px"><input id="friendEmail" type="email" placeholder="friend@example.com"><button class="btn" id="inviteByEmail">Invite</button></div><div id="inviteMsg" class="muted" style="margin-top:6px"></div></div>
      <div class="panel"><h3 style="margin:0">Leaderboard</h3><div id="ftLeaderboard" style="margin-top:6px" class="chips"></div></div>
    </div>
    <div class="panel" style="margin-top:12px"><h3 style="margin:0">Friends</h3><ul id="friendsList" style="list-style:none;padding:0;margin:6px 0;display:grid;gap:6px"></ul></div>
    <div class="panel" style="margin-top:12px"><h3 style="margin:0">PR Feed</h3><div id="ftFeed" style="margin-top:6px" class="chips"></div></div>
    <div class="panel" style="margin-top:12px"><h3 style="margin:0">Compare</h3><div style="margin-top:6px"><select id="compareWith"></select></div><div id="compareTable" style="margin-top:8px"></div></div>
  </section>
</main>

<!-- HOME -->
<main class="container view" id="view-home">
  <section class="panel">
    
    <div class="grid grid-3">
      <div class="ring" id="ringCardOverall" data-kind="overall"><div class="dial" id="ringOverall" style="--pct:0"></div><div class="meta"><div class="lbl">OVERALL</div><div class="big" id="overall">-</div><div class="muted" style="max-width:320px">Combined fitness score</div></div></div>
      <div class="ring" id="ringCardPFT" data-kind="pft"><div class="dial" id="ringPFT" style="--pct:0"></div><div class="meta"><div class="lbl">PFT</div><div class="big" id="pft">-</div><div class="muted" style="max-width:320px">Endurance and strength</div></div></div>
      <div class="ring" id="ringCardCFT" data-kind="cft"><div class="dial" id="ringCFT" style="--pct:0"></div><div class="meta"><div class="lbl">CFT</div><div class="big" id="cft">-</div><div class="muted" style="max-width:320px">Agility and power</div></div></div>
    </div>
    <div class="panel" id="medalsPanel" style="margin-top:10px"><h2>Medals</h2>
      <section class="medals">
        <div id="medalRow" class="medal-row" aria-label="Level medals"></div>
      </section>
    </div>
    <div class="grid grid-2" style="margin-top:12px">
        <div class="panel">
            <h2>Your Levels</h2>
            <div id="homeLevels" class="level-groups"></div>
            <div class="muted" style="margin-top:6px">
              Based on your selected exercises. Click any level badge anywhere to learn what they mean.
            </div>
          </div>
      <div class="panel"><h2>Next Targets</h2><div id="nextTargets" class="chips"></div><div style="height:8px"></div><h2>Squad Snapshot</h2><div id="fireteamSnap" class="chips"></div><div style="margin-top:8px"><button class="btn secondary" id="ctaAddSquad">Add Squad a Member</button></div><div style="height:8px"></div><h2>Test Day</h2><p class="muted">Run the gauntlet for your selected exercises. Log a full session in minutes.</p><button class="btn" id="startTestDay">Start Test Day</button><div id="lastSession" class="muted" style="margin-top:10px"></div>
        <div style="margin-top:14px">
          <h2>Quick Log</h2>
          <div class="grid grid-3" style="align-items:end">
            <div><label>Exercise</label><select id="quickLogExercise"></select></div>
            <div><label>&nbsp;</label><button class="btn" id="quickLogBtn">Log Exercise</button></div>
          </div>
          <div class="muted" style="margin-top:6px">Pick an exercise and log a single attempt without starting a full Test Day.</div>
        </div>
      </div>
    </div>
    
    <div class="panel" style="margin-top:12px"><h2>Recent PRs</h2><div id="recentPRs" class="chips"></div></div>
  </section>
</main>

<!-- BENCHMARKS -->
<main class="container view" id="view-benchmarks">
  <section class="panel">
    <h2>Benchmarks</h2>
    <div class="grid grid-3">
      <div><label>Filter</label><select id="benchFilter"><option value="selected" selected>My selected exercises</option><option value="all">All exercises</option></select></div>
      <div class="legend">
        <span class="badge b-prospect level-badge" data-level="Prospect">PROSPECT</span>
        <span class="badge b-std level-badge" data-level="Standard">STANDARD</span>
        <span class="badge b-strong level-badge" data-level="Strong">STRONG</span>
        <span class="badge b-elite level-badge" data-level="Elite">ELITE</span>
        <span class="badge b-max level-badge" data-level="Max">MAX</span>
      </div>
    </div>
    <div style="margin-top:10px" class="panel">
      <table><thead><tr><th>Category</th><th>Exercise</th><th>Prospect</th><th>Standard</th><th>Strong</th><th>Elite</th><th>Max</th><th>PR</th><th>Log Attempt</th></tr></thead><tbody id="tbody"></tbody></table>
    </div>
  </section>
</main>

<!-- PROGRESS -->
<main class="container view" id="view-progress">
  <section class="panel">
    <h2>Progress</h2>
    <div class="grid grid-3">
      <div><label>Exercise</label><select id="progExercise"></select></div>
      <div><label>Best this month</label><div id="bestThisMonth" class="badge">-</div></div>
      <div style="text-align:right"><button id="clearExercise" class="rowbtn">Clear Selected Logs</button></div>
    </div>
    <div class="grid grid-2" style="margin-top:10px">
      <div class="panel"><h2>Month view</h2><div id="calendar"></div></div>
      <div class="panel"><h2>Levels & PRs</h2><div id="progMeters"></div><div style="margin-top:10px"><h3 style="margin:0">PR Timeline</h3><div id="progTimeline" class="chips" style="margin-top:6px"></div></div></div>
    </div>
  </section>
</main>

<!-- ABOUT -->
<main class="container view" id="view-about">
  <section class="panel">
    <h2>About</h2>

    <!-- 1) Hero -->
    <div class="about-hero" style="background-image:url('assets/marines-pushups-group.jpg')">
      <div class="about-hero-content">
        <h1>How close are you to Marine-level fitness?</h1>
        <button class="btn" id="aboutStartTest">Take the Test →</button>
      </div>
    </div>

    <!-- 2) Why we exist -->
    <div class="about-row">
      <div>
        <h3>Built for Real Standards</h3>
        <p class="muted">Fit For Fight was designed to answer one simple question: “How close am I to Marine-level fitness?” We translate Marine standards into a civilian‑friendly tool — polished, simple, and focused.</p>
      </div>
      <div class="side-img" style="background-image:url('assets/marines-ammo-can-press.jpg')" aria-label="Ammo can press"></div>
    </div>

    <!-- 3) How it works with accent pull-up image -->
    <div class="panel accent-bg" style="background-image:url('assets/marines-pullup.jpg')">
      <h3 style="margin:0">How it works</h3>
      <div class="grid grid-5 about-steps" style="margin-top:8px">
        <div><div class="step-title step-1">1. Profile</div><p class="muted" style="color:#e7ecf4">Standards adjust automatically to your age and gender.</p></div>
        <div><div class="step-title step-2">2. Select</div><p class="muted" style="color:#e7ecf4">Choose individual exercises or run the full Test Day.</p></div>
        <div><div class="step-title step-3">3. Test</div><p class="muted" style="color:#e7ecf4">Log your results with our simple, set-based tracker.</p></div>
        <div><div class="step-title step-4">4. Track</div><p class="muted" style="color:#e7ecf4">See PRs, streaks, and level meters evolve over time.</p></div>
        <div><div class="step-title step-5">5. Your Squad</div><p class="muted" style="color:#e7ecf4">Add friends, compare progress, and keep each other accountable.</p></div>
      </div>
    </div>

    <!-- 4) Levels system with push-up crowd side image -->
    <div class="about-row">
      <div class="side-img" style="background-image:url('assets/marines-pushup-focus.jpg')" aria-label="Push-up competition"></div>
      <div>
        <h3>The Levels System</h3>
        <p class="muted">Every exercise maps to five levels inspired by PFT/CFT. Prospect → Standard → Strong → Elite → Max.</p>
        <div class="level-chips" style="margin-top:6px">
          <span class="badge b-prospect">Prospect</span>
          <span class="badge b-std">Standard</span>
          <span class="badge b-strong">Strong</span>
          <span class="badge b-elite">Elite</span>
          <span class="badge b-max">Max</span>
        </div>
      </div>
    </div>

    <!-- 5) Why it’s different with handshake camaraderie image -->
    <div class="about-row">
      <div>
        <h3>Why it’s different</h3>
        <ul class="muted" style="line-height:1.6">
          <li>Anchored to real, military‑grade standards.</li>
          <li>Clean, challenge‑first UX — not a calorie log.</li>
          <li>Community mindset: built to train together.</li>
        </ul>
      </div>
      <div class="side-img" style="background-image:url('assets/marines-handshake.jpg')" aria-label="Camaraderie"></div>
    </div>

    <!-- Final CTA solid military green, no image -->
    <div class="about-cta" style="background-image:none;background-color:#1f3a2e">
      <div class="about-cta-inner">
        <h2>Are you ready to see where you stand?</h2>
        <button class="btn" id="aboutStartTest2">Take the Test Now →</button>
      </div>
    </div>

  </section>
</main>

<!-- ACCOUNT -->
<main class="container view" id="view-account">
  <section class="panel">
    <h2>Account</h2>

    <label for="email">Email</label>
    <input id="email" type="email" autocomplete="email" />

    <label for="pass">Password</label>
    <input id="pass" type="password" autocomplete="current-password" />

    <div class="actions" style="display:flex;gap:8px;margin-top:10px">
      <button class="btn" id="signupBtn">Sign up</button>
      <button class="btn secondary" id="loginBtn">Log in</button>
      <button class="btn secondary" id="logoutBtn">Log out</button>
    </div>

    <p class="muted" id="authStatus" style="margin-top:8px">Not signed in</p>
  </section>
</main>

<!-- Modals -->
<div class="modal" id="levelsModal"><div class="modal-card" style="max-width:720px">
  <h3>Levels – how to read your targets</h3>
  <p class="muted">Prospect ≈ 20 pts, Standard ≈ 40, Strong ≈ 70, Elite ≈ 90, Max = 100. Interpolated so every rep/second counts.</p>
  <div class="modal-actions"><button class="btn secondary" id="levelsClose">Close</button></div>
</div></div>
<div class="modal" id="infoModal"><div class="modal-card" style="max-width:520px">
  <h3 id="infoTitle">Score</h3>
  <p id="infoBody" class="muted"></p>
  <div class="modal-actions"><button class="btn" id="infoClose">Close</button></div>
</div></div>
<div class="modal" id="pickerModal"><div class="modal-card" style="max-width:780px">
  <h3>Select your exercises</h3><div id="pickerGroups" class="grid grid-3" style="margin-top:8px"></div>
  <div class="modal-actions"><button class="btn secondary" id="pickerSelectAll">Select all</button><button class="btn secondary" id="pickerClear">Clear</button><button class="btn" id="pickerSave">Save</button></div>
</div></div>
<div class="modal" id="testModal"><div class="modal-card" style="width:min(860px,95vw);max-height:85vh;overflow:auto">
  <h3 id="testTitle">Test Day</h3><div id="testBody"></div>
  <div class="modal-actions"><button class="btn secondary" id="testPrev">Back</button><button class="btn secondary" id="testSkip">Skip</button><button class="btn" id="testNext">Next</button></div>
</div></div>
<!-- Log Attempt Modal -->
<div class="modal" id="logModal"><div class="modal-card" style="max-width:600px">
  <h3 id="logTitle" style="margin:0">Log Attempt</h3>
  <div style="margin-top:6px"><label class="muted">Exercise</label>
    <select id="logExerciseSelect"></select>
  </div>
  <div id="logSets" class="sets" style="margin-top:8px"></div>
  <button class="rowbtn" id="logAddSet" style="margin-top:6px">+ Log Another Set</button>
  <div style="margin-top:12px" id="logPad" class="grid" aria-label="Keypad"></div>
  <div class="modal-actions"><button class="btn secondary" id="logCancel">Cancel</button><button class="btn" id="logSave">Save</button></div>
</div></div>
<div id="levelsToast"><div style="font:700 12px 'Roboto Condensed';letter-spacing:.3px;text-transform:uppercase;color:#95a1b1">New here?</div><div style="margin-top:4px">Wondering what each level means? <a href="#" id="levelsOpenLink" style="color:#2db9a2;text-decoration:none">See Levels</a></div><div style="display:flex;gap:8px;margin-top:8px;justify-content:flex-end"><button id="levelsDismiss" class="rowbtn" style="padding:6px 10px">Dismiss</button></div></div>

<script type="module">
  import { wireAuthUI } from './app-firebase.js';

  // Always shows *some* view even if the hash isn’t set yet
  window.addEventListener('DOMContentLoaded', () => {
    wireAuthUI();

    // Ensure only one view is visible
    const views = document.querySelectorAll('.view');
    views.forEach(view => view.classList.remove('show'));

    // Show the login view by default if no hash is set
    const defaultView = document.getElementById('view-login');
    if (defaultView) {
      defaultView.classList.add('show');
    }

    // “Go to Account” button on the landing view
    document.getElementById('goToAccount')?.addEventListener('click', () => {
      location.hash = '#/account';
      // app-firebase onAuthStateChanged will swap to view-account when signed-out
      const evt = new Event('hashchange');
      window.dispatchEvent(evt);
    });
  });

  // Handle hash-based navigation
  window.addEventListener('hashchange', () => {
    const hash = location.hash || '#/login';
    const views = document.querySelectorAll('.view');
    views.forEach(view => view.classList.remove('show'));

    const activeView = document.querySelector(`[id="view-${hash.replace('#/', '')}"]`);
    if (activeView) {
      activeView.classList.add('show');
    } else {
      document.getElementById('view-login').classList.add('show');
    }
  });
</script>
</body>
</html>
